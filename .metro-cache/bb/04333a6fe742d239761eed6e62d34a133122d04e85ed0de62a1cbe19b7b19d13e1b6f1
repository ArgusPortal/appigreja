{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":111,"column":46,"index":3686}}],"key":"5y7e5+zC7teYEEC6niD9f5zII1M="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getActionFromState = getActionFromState;\n  function getActionFromState(state, options) {\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === normalizedConfig?.initialRouteName && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[state.index ?? state.routes.length - 1];\n    var current = route?.state;\n    var config = normalizedConfig?.screens?.[route?.name];\n    var params = {\n      ...route.params\n    };\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n\n    // If the screen contains a navigator, pop other screens to navigate to it\n    // This avoid pushing multiple instances of navigators onto a stack\n    //\n    // For example:\n    // - RootStack\n    //   - BottomTabs\n    //   - SomeScreen\n    //\n    // In this case, if deep linking to `BottomTabs`, we should pop `SomeScreen`\n    // Otherwise, we'll end up with 2 instances of `BottomTabs` in the stack\n    //\n    // There are 2 ways we can detect if a screen contains a navigator:\n    // - The route contains nested state in `route.state`\n    // - Nested screens are defined in the config\n    if (payload && config?.screens && Object.keys(config.screens).length) {\n      payload.pop = true;\n    }\n    while (current) {\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === config?.initialRouteName && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = {\n          ..._route.params\n        };\n        params.pop = true;\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = config?.screens?.[_route.name];\n      if (config?.screens && Object.keys(config.screens).length) {\n        params.pop = true;\n      }\n    }\n    if (payload?.params.screen || payload?.params.state) {\n      payload.pop = true;\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  var createNormalizedConfigItem = config => typeof config === 'object' && config != null ? {\n    initialRouteName: config.initialRouteName,\n    screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n  } : {};\n  var createNormalizedConfigs = options => Object.entries(options).reduce((acc, _ref) => {\n    var _ref2 = _slicedToArray(_ref, 2),\n      k = _ref2[0],\n      v = _ref2[1];\n    acc[k] = createNormalizedConfigItem(v);\n    return acc;\n  }, {});\n});","lineCount":116,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[5,2,3,0,"Object"],[5,8,3,6],[5,9,3,7,"defineProperty"],[5,23,3,21],[5,24,3,22,"exports"],[5,31,3,29],[5,33,3,31],[5,45,3,43],[5,47,3,45],[6,4,4,2,"value"],[6,9,4,7],[6,11,4,9],[7,2,5,0],[7,3,5,1],[7,4,5,2],[8,2,6,0,"exports"],[8,9,6,7],[8,10,6,8,"getActionFromState"],[8,28,6,26],[8,31,6,29,"getActionFromState"],[8,49,6,47],[9,2,7,0],[9,11,7,9,"getActionFromState"],[9,29,7,27,"getActionFromState"],[9,30,7,28,"state"],[9,35,7,33],[9,37,7,35,"options"],[9,44,7,42],[9,46,7,44],[10,4,8,2],[11,4,9,2],[11,8,9,8,"normalizedConfig"],[11,24,9,24],[11,27,9,27,"options"],[11,34,9,34],[11,37,9,37,"createNormalizedConfigItem"],[11,63,9,63],[11,64,9,64,"options"],[11,71,9,71],[11,72,9,72],[11,75,9,75],[11,76,9,76],[11,77,9,77],[12,4,10,2],[12,8,10,8,"routes"],[12,14,10,14],[12,17,10,17,"state"],[12,22,10,22],[12,23,10,23,"index"],[12,28,10,28],[12,32,10,32],[12,36,10,36],[12,39,10,39,"state"],[12,44,10,44],[12,45,10,45,"routes"],[12,51,10,51],[12,52,10,52,"slice"],[12,57,10,57],[12,58,10,58],[12,59,10,59],[12,61,10,61,"state"],[12,66,10,66],[12,67,10,67,"index"],[12,72,10,72],[12,75,10,75],[12,76,10,76],[12,77,10,77],[12,80,10,80,"state"],[12,85,10,85],[12,86,10,86,"routes"],[12,92,10,92],[13,4,11,2],[13,8,11,6,"routes"],[13,14,11,12],[13,15,11,13,"length"],[13,21,11,19],[13,26,11,24],[13,27,11,25],[13,29,11,27],[14,6,12,4],[14,13,12,11,"undefined"],[14,22,12,20],[15,4,13,2],[16,4,14,2],[16,8,14,6],[16,10,14,8,"routes"],[16,16,14,14],[16,17,14,15,"length"],[16,23,14,21],[16,28,14,26],[16,29,14,27],[16,33,14,31,"routes"],[16,39,14,37],[16,40,14,38],[16,41,14,39],[16,42,14,40],[16,43,14,41,"key"],[16,46,14,44],[16,51,14,49,"undefined"],[16,60,14,58],[16,64,14,62,"routes"],[16,70,14,68],[16,71,14,69,"length"],[16,77,14,75],[16,82,14,80],[16,83,14,81],[16,87,14,85,"routes"],[16,93,14,91],[16,94,14,92],[16,95,14,93],[16,96,14,94],[16,97,14,95,"key"],[16,100,14,98],[16,105,14,103,"undefined"],[16,114,14,112],[16,118,14,116,"routes"],[16,124,14,122],[16,125,14,123],[16,126,14,124],[16,127,14,125],[16,128,14,126,"name"],[16,132,14,130],[16,137,14,135,"normalizedConfig"],[16,153,14,151],[16,155,14,153,"initialRouteName"],[16,171,14,169],[16,175,14,173,"routes"],[16,181,14,179],[16,182,14,180],[16,183,14,181],[16,184,14,182],[16,185,14,183,"key"],[16,188,14,186],[16,193,14,191,"undefined"],[16,202,14,200],[16,203,14,201],[16,205,14,203],[17,6,15,4],[17,13,15,11],[18,8,16,6,"type"],[18,12,16,10],[18,14,16,12],[18,21,16,19],[19,8,17,6,"payload"],[19,15,17,13],[19,17,17,15,"state"],[20,6,18,4],[20,7,18,5],[21,4,19,2],[22,4,20,2],[22,8,20,8,"route"],[22,13,20,13],[22,16,20,16,"state"],[22,21,20,21],[22,22,20,22,"routes"],[22,28,20,28],[22,29,20,29,"state"],[22,34,20,34],[22,35,20,35,"index"],[22,40,20,40],[22,44,20,44,"state"],[22,49,20,49],[22,50,20,50,"routes"],[22,56,20,56],[22,57,20,57,"length"],[22,63,20,63],[22,66,20,66],[22,67,20,67],[22,68,20,68],[23,4,21,2],[23,8,21,6,"current"],[23,15,21,13],[23,18,21,16,"route"],[23,23,21,21],[23,25,21,23,"state"],[23,30,21,28],[24,4,22,2],[24,8,22,6,"config"],[24,14,22,12],[24,17,22,15,"normalizedConfig"],[24,33,22,31],[24,35,22,33,"screens"],[24,42,22,40],[24,45,22,43,"route"],[24,50,22,48],[24,52,22,50,"name"],[24,56,22,54],[24,57,22,55],[25,4,23,2],[25,8,23,6,"params"],[25,14,23,12],[25,17,23,15],[26,6,24,4],[26,9,24,7,"route"],[26,14,24,12],[26,15,24,13,"params"],[27,4,25,2],[27,5,25,3],[28,4,26,2],[28,8,26,8,"payload"],[28,15,26,15],[28,18,26,18,"route"],[28,23,26,23],[28,26,26,26],[29,6,27,4,"name"],[29,10,27,8],[29,12,27,10,"route"],[29,17,27,15],[29,18,27,16,"name"],[29,22,27,20],[30,6,28,4,"path"],[30,10,28,8],[30,12,28,10,"route"],[30,17,28,15],[30,18,28,16,"path"],[30,22,28,20],[31,6,29,4,"params"],[32,4,30,2],[32,5,30,3],[32,8,30,6,"undefined"],[32,17,30,15],[34,4,32,2],[35,4,33,2],[36,4,34,2],[37,4,35,2],[38,4,36,2],[39,4,37,2],[40,4,38,2],[41,4,39,2],[42,4,40,2],[43,4,41,2],[44,4,42,2],[45,4,43,2],[46,4,44,2],[47,4,45,2],[48,4,46,2],[48,8,46,6,"payload"],[48,15,46,13],[48,19,46,17,"config"],[48,25,46,23],[48,27,46,25,"screens"],[48,34,46,32],[48,38,46,36,"Object"],[48,44,46,42],[48,45,46,43,"keys"],[48,49,46,47],[48,50,46,48,"config"],[48,56,46,54],[48,57,46,55,"screens"],[48,64,46,62],[48,65,46,63],[48,66,46,64,"length"],[48,72,46,70],[48,74,46,72],[49,6,47,4,"payload"],[49,13,47,11],[49,14,47,12,"pop"],[49,17,47,15],[49,20,47,18],[49,24,47,22],[50,4,48,2],[51,4,49,2],[51,11,49,9,"current"],[51,18,49,16],[51,20,49,18],[52,6,50,4],[52,10,50,8,"current"],[52,17,50,15],[52,18,50,16,"routes"],[52,24,50,22],[52,25,50,23,"length"],[52,31,50,29],[52,36,50,34],[52,37,50,35],[52,39,50,37],[53,8,51,6],[53,15,51,13,"undefined"],[53,24,51,22],[54,6,52,4],[55,6,53,4],[55,10,53,10,"routes"],[55,17,53,16],[55,20,53,19,"current"],[55,27,53,26],[55,28,53,27,"index"],[55,33,53,32],[55,37,53,36],[55,41,53,40],[55,44,53,43,"current"],[55,51,53,50],[55,52,53,51,"routes"],[55,58,53,57],[55,59,53,58,"slice"],[55,64,53,63],[55,65,53,64],[55,66,53,65],[55,68,53,67,"current"],[55,75,53,74],[55,76,53,75,"index"],[55,81,53,80],[55,84,53,83],[55,85,53,84],[55,86,53,85],[55,89,53,88,"current"],[55,96,53,95],[55,97,53,96,"routes"],[55,103,53,102],[56,6,54,4],[56,10,54,10,"route"],[56,16,54,15],[56,19,54,18,"routes"],[56,26,54,24],[56,27,54,25,"routes"],[56,34,54,31],[56,35,54,32,"length"],[56,41,54,38],[56,44,54,41],[56,45,54,42],[56,46,54,43],[58,6,56,4],[59,6,57,4,"Object"],[59,12,57,10],[59,13,57,11,"assign"],[59,19,57,17],[59,20,57,18,"params"],[59,26,57,24],[59,28,57,26],[60,8,58,6,"initial"],[60,15,58,13],[60,17,58,15,"undefined"],[60,26,58,24],[61,8,59,6,"screen"],[61,14,59,12],[61,16,59,14,"undefined"],[61,25,59,23],[62,8,60,6,"params"],[62,14,60,12],[62,16,60,14,"undefined"],[62,25,60,23],[63,8,61,6,"state"],[63,13,61,11],[63,15,61,13,"undefined"],[64,6,62,4],[64,7,62,5],[64,8,62,6],[65,6,63,4],[65,10,63,8,"routes"],[65,17,63,14],[65,18,63,15,"length"],[65,24,63,21],[65,29,63,26],[65,30,63,27],[65,34,63,31,"routes"],[65,41,63,37],[65,42,63,38],[65,43,63,39],[65,44,63,40],[65,45,63,41,"key"],[65,48,63,44],[65,53,63,49,"undefined"],[65,62,63,58],[65,64,63,60],[66,8,64,6,"params"],[66,14,64,12],[66,15,64,13,"initial"],[66,22,64,20],[66,25,64,23],[66,29,64,27],[67,8,65,6,"params"],[67,14,65,12],[67,15,65,13,"screen"],[67,21,65,19],[67,24,65,22,"route"],[67,30,65,27],[67,31,65,28,"name"],[67,35,65,32],[68,6,66,4],[68,7,66,5],[68,13,66,11],[68,17,66,15,"routes"],[68,24,66,21],[68,25,66,22,"length"],[68,31,66,28],[68,36,66,33],[68,37,66,34],[68,41,66,38,"routes"],[68,48,66,44],[68,49,66,45],[68,50,66,46],[68,51,66,47],[68,52,66,48,"key"],[68,55,66,51],[68,60,66,56,"undefined"],[68,69,66,65],[68,73,66,69,"routes"],[68,80,66,75],[68,81,66,76],[68,82,66,77],[68,83,66,78],[68,84,66,79,"name"],[68,88,66,83],[68,93,66,88,"config"],[68,99,66,94],[68,101,66,96,"initialRouteName"],[68,117,66,112],[68,121,66,116,"routes"],[68,128,66,122],[68,129,66,123],[68,130,66,124],[68,131,66,125],[68,132,66,126,"key"],[68,135,66,129],[68,140,66,134,"undefined"],[68,149,66,143],[68,151,66,145],[69,8,67,6,"params"],[69,14,67,12],[69,15,67,13,"initial"],[69,22,67,20],[69,25,67,23],[69,30,67,28],[70,8,68,6,"params"],[70,14,68,12],[70,15,68,13,"screen"],[70,21,68,19],[70,24,68,22,"route"],[70,30,68,27],[70,31,68,28,"name"],[70,35,68,32],[71,6,69,4],[71,7,69,5],[71,13,69,11],[72,8,70,6,"params"],[72,14,70,12],[72,15,70,13,"state"],[72,20,70,18],[72,23,70,21,"current"],[72,30,70,28],[73,8,71,6],[74,6,72,4],[75,6,73,4],[75,10,73,8,"route"],[75,16,73,13],[75,17,73,14,"state"],[75,22,73,19],[75,24,73,21],[76,8,74,6,"params"],[76,14,74,12],[76,15,74,13,"params"],[76,21,74,19],[76,24,74,22],[77,10,75,8],[77,13,75,11,"route"],[77,19,75,16],[77,20,75,17,"params"],[78,8,76,6],[78,9,76,7],[79,8,77,6,"params"],[79,14,77,12],[79,15,77,13,"pop"],[79,18,77,16],[79,21,77,19],[79,25,77,23],[80,8,78,6,"params"],[80,14,78,12],[80,17,78,15,"params"],[80,23,78,21],[80,24,78,22,"params"],[80,30,78,28],[81,6,79,4],[81,7,79,5],[81,13,79,11],[82,8,80,6,"params"],[82,14,80,12],[82,15,80,13,"path"],[82,19,80,17],[82,22,80,20,"route"],[82,28,80,25],[82,29,80,26,"path"],[82,33,80,30],[83,8,81,6,"params"],[83,14,81,12],[83,15,81,13,"params"],[83,21,81,19],[83,24,81,22,"route"],[83,30,81,27],[83,31,81,28,"params"],[83,37,81,34],[84,6,82,4],[85,6,83,4,"current"],[85,13,83,11],[85,16,83,14,"route"],[85,22,83,19],[85,23,83,20,"state"],[85,28,83,25],[86,6,84,4,"config"],[86,12,84,10],[86,15,84,13,"config"],[86,21,84,19],[86,23,84,21,"screens"],[86,30,84,28],[86,33,84,31,"route"],[86,39,84,36],[86,40,84,37,"name"],[86,44,84,41],[86,45,84,42],[87,6,85,4],[87,10,85,8,"config"],[87,16,85,14],[87,18,85,16,"screens"],[87,25,85,23],[87,29,85,27,"Object"],[87,35,85,33],[87,36,85,34,"keys"],[87,40,85,38],[87,41,85,39,"config"],[87,47,85,45],[87,48,85,46,"screens"],[87,55,85,53],[87,56,85,54],[87,57,85,55,"length"],[87,63,85,61],[87,65,85,63],[88,8,86,6,"params"],[88,14,86,12],[88,15,86,13,"pop"],[88,18,86,16],[88,21,86,19],[88,25,86,23],[89,6,87,4],[90,4,88,2],[91,4,89,2],[91,8,89,6,"payload"],[91,15,89,13],[91,17,89,15,"params"],[91,23,89,21],[91,24,89,22,"screen"],[91,30,89,28],[91,34,89,32,"payload"],[91,41,89,39],[91,43,89,41,"params"],[91,49,89,47],[91,50,89,48,"state"],[91,55,89,53],[91,57,89,55],[92,6,90,4,"payload"],[92,13,90,11],[92,14,90,12,"pop"],[92,17,90,15],[92,20,90,18],[92,24,90,22],[93,4,91,2],[94,4,92,2],[94,8,92,6],[94,9,92,7,"payload"],[94,16,92,14],[94,18,92,16],[95,6,93,4],[96,4,94,2],[98,4,96,2],[99,4,97,2],[100,4,98,2],[100,11,98,9],[101,6,99,4,"type"],[101,10,99,8],[101,12,99,10],[101,22,99,20],[102,6,100,4,"payload"],[103,4,101,2],[103,5,101,3],[104,2,102,0],[105,2,103,0],[105,6,103,6,"createNormalizedConfigItem"],[105,32,103,32],[105,35,103,35,"config"],[105,41,103,41],[105,45,103,45],[105,52,103,52,"config"],[105,58,103,58],[105,63,103,63],[105,71,103,71],[105,75,103,75,"config"],[105,81,103,81],[105,85,103,85],[105,89,103,89],[105,92,103,92],[106,4,104,2,"initialRouteName"],[106,20,104,18],[106,22,104,20,"config"],[106,28,104,26],[106,29,104,27,"initialRouteName"],[106,45,104,43],[107,4,105,2,"screens"],[107,11,105,9],[107,13,105,11,"config"],[107,19,105,17],[107,20,105,18,"screens"],[107,27,105,25],[107,31,105,29],[107,35,105,33],[107,38,105,36,"createNormalizedConfigs"],[107,61,105,59],[107,62,105,60,"config"],[107,68,105,66],[107,69,105,67,"screens"],[107,76,105,74],[107,77,105,75],[107,80,105,78,"undefined"],[108,2,106,0],[108,3,106,1],[108,6,106,4],[108,7,106,5],[108,8,106,6],[109,2,107,0],[109,6,107,6,"createNormalizedConfigs"],[109,29,107,29],[109,32,107,32,"options"],[109,39,107,39],[109,43,107,43,"Object"],[109,49,107,49],[109,50,107,50,"entries"],[109,57,107,57],[109,58,107,58,"options"],[109,65,107,65],[109,66,107,66],[109,67,107,67,"reduce"],[109,73,107,73],[109,74,107,74],[109,75,107,75,"acc"],[109,78,107,78],[109,80,107,78,"_ref"],[109,84,107,78],[109,89,107,91],[110,4,107,91],[110,8,107,91,"_ref2"],[110,13,107,91],[110,16,107,91,"_slicedToArray"],[110,30,107,91],[110,31,107,91,"_ref"],[110,35,107,91],[111,6,107,81,"k"],[111,7,107,82],[111,10,107,82,"_ref2"],[111,15,107,82],[112,6,107,84,"v"],[112,7,107,85],[112,10,107,85,"_ref2"],[112,15,107,85],[113,4,108,2,"acc"],[113,7,108,5],[113,8,108,6,"k"],[113,9,108,7],[113,10,108,8],[113,13,108,11,"createNormalizedConfigItem"],[113,39,108,37],[113,40,108,38,"v"],[113,41,108,39],[113,42,108,40],[114,4,109,2],[114,11,109,9,"acc"],[114,14,109,12],[115,2,110,0],[115,3,110,1],[115,5,110,3],[115,6,110,4],[115,7,110,5],[115,8,110,6],[116,0,110,7],[116,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;ACM;CD+F;mCEC;MFG;gCGC,0CC;CDG,KH"}},"type":"js/module"}]}