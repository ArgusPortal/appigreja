{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":36,"index":163},"end":{"line":7,"column":52,"index":179}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY="}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":32,"index":214},"end":{"line":8,"column":72,"index":254}}],"key":"LvtG747EiSU8GTWdUChkQRwjczg="}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":30,"index":286},"end":{"line":9,"column":68,"index":324}}],"key":"qhsKKNGciKBrWk6APM3SsDmjdJc="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOptionsGetters = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  function _getRequireWildcardCache(e) {\n    if (\"function\" != typeof WeakMap) return null;\n    var r = new WeakMap(),\n      t = new WeakMap();\n    return (_getRequireWildcardCache = function (e) {\n      return e ? t : r;\n    })(e);\n  }\n  function _interopRequireWildcard(e, r) {\n    if (!r && e && e.__esModule) return e;\n    if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n      default: e\n    };\n    var t = _getRequireWildcardCache(r);\n    if (t && t.has(e)) return t.get(e);\n    var n = {\n        __proto__: null\n      },\n      a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n      var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n      i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n    }\n    return n.default = e, t && t.set(e, n), n;\n  }\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(require(_dependencyMap[1], \"./NavigationBuilderContext.js\").NavigationBuilderContext),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(require(_dependencyMap[2], \"./NavigationStateContext.js\").NavigationStateContext),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(() => {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (_key in optionsGettersFromChildRef.current) {\n          var result = optionsGettersFromChildRef.current[_key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":97,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useOptionsGetters"],[7,27,6,25],[7,30,6,28,"useOptionsGetters"],[7,47,6,45],[8,2,7,0],[8,6,7,4,"React"],[8,11,7,9],[8,14,7,12,"_interopRequireWildcard"],[8,37,7,35],[8,38,7,36,"require"],[8,45,7,43],[8,46,7,43,"_dependencyMap"],[8,60,7,43],[8,72,7,51],[8,73,7,52],[8,74,7,53],[9,2,10,0],[9,11,10,9,"_getRequireWildcardCache"],[9,35,10,33,"_getRequireWildcardCache"],[9,36,10,34,"e"],[9,37,10,35],[9,39,10,37],[10,4,10,39],[10,8,10,43],[10,18,10,53],[10,22,10,57],[10,29,10,64,"WeakMap"],[10,36,10,71],[10,38,10,73],[10,45,10,80],[10,49,10,84],[11,4,10,86],[11,8,10,90,"r"],[11,9,10,91],[11,12,10,94],[11,16,10,98,"WeakMap"],[11,23,10,105],[11,24,10,106],[11,25,10,107],[12,6,10,109,"t"],[12,7,10,110],[12,10,10,113],[12,14,10,117,"WeakMap"],[12,21,10,124],[12,22,10,125],[12,23,10,126],[13,4,10,128],[13,11,10,135],[13,12,10,136,"_getRequireWildcardCache"],[13,36,10,160],[13,39,10,163],[13,48,10,163,"_getRequireWildcardCache"],[13,49,10,173,"e"],[13,50,10,174],[13,52,10,176],[14,6,10,178],[14,13,10,185,"e"],[14,14,10,186],[14,17,10,189,"t"],[14,18,10,190],[14,21,10,193,"r"],[14,22,10,194],[15,4,10,196],[15,5,10,197],[15,7,10,199,"e"],[15,8,10,200],[15,9,10,201],[16,2,10,203],[17,2,11,0],[17,11,11,9,"_interopRequireWildcard"],[17,34,11,32,"_interopRequireWildcard"],[17,35,11,33,"e"],[17,36,11,34],[17,38,11,36,"r"],[17,39,11,37],[17,41,11,39],[18,4,11,41],[18,8,11,45],[18,9,11,46,"r"],[18,10,11,47],[18,14,11,51,"e"],[18,15,11,52],[18,19,11,56,"e"],[18,20,11,57],[18,21,11,58,"__esModule"],[18,31,11,68],[18,33,11,70],[18,40,11,77,"e"],[18,41,11,78],[19,4,11,80],[19,8,11,84],[19,12,11,88],[19,17,11,93,"e"],[19,18,11,94],[19,22,11,98],[19,30,11,106],[19,34,11,110],[19,41,11,117,"e"],[19,42,11,118],[19,46,11,122],[19,56,11,132],[19,60,11,136],[19,67,11,143,"e"],[19,68,11,144],[19,70,11,146],[19,77,11,153],[20,6,11,155,"default"],[20,13,11,162],[20,15,11,164,"e"],[21,4,11,166],[21,5,11,167],[22,4,11,169],[22,8,11,173,"t"],[22,9,11,174],[22,12,11,177,"_getRequireWildcardCache"],[22,36,11,201],[22,37,11,202,"r"],[22,38,11,203],[22,39,11,204],[23,4,11,206],[23,8,11,210,"t"],[23,9,11,211],[23,13,11,215,"t"],[23,14,11,216],[23,15,11,217,"has"],[23,18,11,220],[23,19,11,221,"e"],[23,20,11,222],[23,21,11,223],[23,23,11,225],[23,30,11,232,"t"],[23,31,11,233],[23,32,11,234,"get"],[23,35,11,237],[23,36,11,238,"e"],[23,37,11,239],[23,38,11,240],[24,4,11,242],[24,8,11,246,"n"],[24,9,11,247],[24,12,11,250],[25,8,11,252,"__proto__"],[25,17,11,261],[25,19,11,263],[26,6,11,268],[26,7,11,269],[27,6,11,271,"a"],[27,7,11,272],[27,10,11,275,"Object"],[27,16,11,281],[27,17,11,282,"defineProperty"],[27,31,11,296],[27,35,11,300,"Object"],[27,41,11,306],[27,42,11,307,"getOwnPropertyDescriptor"],[27,66,11,331],[28,4,11,333],[28,9,11,338],[28,13,11,342,"u"],[28,14,11,343],[28,18,11,347,"e"],[28,19,11,348],[28,21,11,350],[28,25,11,354],[28,34,11,363],[28,39,11,368,"u"],[28,40,11,369],[28,44,11,373],[28,45,11,374],[28,46,11,375],[28,47,11,376,"hasOwnProperty"],[28,61,11,390],[28,62,11,391,"call"],[28,66,11,395],[28,67,11,396,"e"],[28,68,11,397],[28,70,11,399,"u"],[28,71,11,400],[28,72,11,401],[28,74,11,403],[29,6,11,405],[29,10,11,409,"i"],[29,11,11,410],[29,14,11,413,"a"],[29,15,11,414],[29,18,11,417,"Object"],[29,24,11,423],[29,25,11,424,"getOwnPropertyDescriptor"],[29,49,11,448],[29,50,11,449,"e"],[29,51,11,450],[29,53,11,452,"u"],[29,54,11,453],[29,55,11,454],[29,58,11,457],[29,62,11,461],[30,6,11,463,"i"],[30,7,11,464],[30,12,11,469,"i"],[30,13,11,470],[30,14,11,471,"get"],[30,17,11,474],[30,21,11,478,"i"],[30,22,11,479],[30,23,11,480,"set"],[30,26,11,483],[30,27,11,484],[30,30,11,487,"Object"],[30,36,11,493],[30,37,11,494,"defineProperty"],[30,51,11,508],[30,52,11,509,"n"],[30,53,11,510],[30,55,11,512,"u"],[30,56,11,513],[30,58,11,515,"i"],[30,59,11,516],[30,60,11,517],[30,63,11,520,"n"],[30,64,11,521],[30,65,11,522,"u"],[30,66,11,523],[30,67,11,524],[30,70,11,527,"e"],[30,71,11,528],[30,72,11,529,"u"],[30,73,11,530],[30,74,11,531],[31,4,11,533],[32,4,11,535],[32,11,11,542,"n"],[32,12,11,543],[32,13,11,544,"default"],[32,20,11,551],[32,23,11,554,"e"],[32,24,11,555],[32,26,11,557,"t"],[32,27,11,558],[32,31,11,562,"t"],[32,32,11,563],[32,33,11,564,"set"],[32,36,11,567],[32,37,11,568,"e"],[32,38,11,569],[32,40,11,571,"n"],[32,41,11,572],[32,42,11,573],[32,44,11,575,"n"],[32,45,11,576],[33,2,11,578],[34,2,12,0],[34,11,12,9,"useOptionsGetters"],[34,28,12,26,"useOptionsGetters"],[34,29,12,26,"_ref"],[34,33,12,26],[34,35,16,3],[35,4,16,3],[35,8,13,2,"key"],[35,11,13,5],[35,14,13,5,"_ref"],[35,18,13,5],[35,19,13,2,"key"],[35,22,13,5],[36,6,14,2,"options"],[36,13,14,9],[36,16,14,9,"_ref"],[36,20,14,9],[36,21,14,2,"options"],[36,28,14,9],[37,6,15,2,"navigation"],[37,16,15,12],[37,19,15,12,"_ref"],[37,23,15,12],[37,24,15,2,"navigation"],[37,34,15,12],[38,4,17,2],[38,8,17,8,"optionsRef"],[38,18,17,18],[38,21,17,21,"React"],[38,26,17,26],[38,27,17,27,"useRef"],[38,33,17,33],[38,34,17,34,"options"],[38,41,17,41],[38,42,17,42],[39,4,18,2],[39,8,18,8,"optionsGettersFromChildRef"],[39,34,18,34],[39,37,18,37,"React"],[39,42,18,42],[39,43,18,43,"useRef"],[39,49,18,49],[39,50,18,50],[39,51,18,51],[39,52,18,52],[39,53,18,53],[40,4,19,2],[40,8,19,2,"_React$useContext"],[40,25,19,2],[40,28,21,6,"React"],[40,33,21,11],[40,34,21,12,"useContext"],[40,44,21,22],[40,45,21,23,"require"],[40,52,21,23],[40,53,21,23,"_dependencyMap"],[40,67,21,23],[40,105,21,49,"NavigationBuilderContext"],[40,129,21,73],[40,130,21,74],[41,6,20,4,"onOptionsChange"],[41,21,20,19],[41,24,20,19,"_React$useContext"],[41,41,20,19],[41,42,20,4,"onOptionsChange"],[41,57,20,19],[42,4,22,2],[42,8,22,2,"_React$useContext2"],[42,26,22,2],[42,29,24,6,"React"],[42,34,24,11],[42,35,24,12,"useContext"],[42,45,24,22],[42,46,24,23,"require"],[42,53,24,23],[42,54,24,23,"_dependencyMap"],[42,68,24,23],[42,104,24,47,"NavigationStateContext"],[42,126,24,69],[42,127,24,70],[43,6,23,22,"parentAddOptionsGetter"],[43,28,23,44],[43,31,23,44,"_React$useContext2"],[43,49,23,44],[43,50,23,4,"addOptionsGetter"],[43,66,23,20],[44,4,25,2],[44,8,25,8,"optionsChangeListener"],[44,29,25,29],[44,32,25,32,"React"],[44,37,25,37],[44,38,25,38,"useCallback"],[44,49,25,49],[44,50,25,50],[44,56,25,56],[45,6,26,4],[45,10,26,10,"isFocused"],[45,19,26,19],[45,22,26,22,"navigation"],[45,32,26,32],[45,34,26,34,"isFocused"],[45,43,26,43],[45,44,26,44],[45,45,26,45],[45,49,26,49],[45,53,26,53],[46,6,27,4],[46,10,27,10,"hasChildren"],[46,21,27,21],[46,24,27,24,"Object"],[46,30,27,30],[46,31,27,31,"keys"],[46,35,27,35],[46,36,27,36,"optionsGettersFromChildRef"],[46,62,27,62],[46,63,27,63,"current"],[46,70,27,70],[46,71,27,71],[46,72,27,72,"length"],[46,78,27,78],[47,6,28,4],[47,10,28,8,"isFocused"],[47,19,28,17],[47,23,28,21],[47,24,28,22,"hasChildren"],[47,35,28,33],[47,37,28,35],[48,8,29,6,"onOptionsChange"],[48,23,29,21],[48,24,29,22,"optionsRef"],[48,34,29,32],[48,35,29,33,"current"],[48,42,29,40],[48,46,29,44],[48,47,29,45],[48,48,29,46],[48,49,29,47],[49,6,30,4],[50,4,31,2],[50,5,31,3],[50,7,31,5],[50,8,31,6,"navigation"],[50,18,31,16],[50,20,31,18,"onOptionsChange"],[50,35,31,33],[50,36,31,34],[50,37,31,35],[51,4,32,2,"React"],[51,9,32,7],[51,10,32,8,"useEffect"],[51,19,32,17],[51,20,32,18],[51,26,32,24],[52,6,33,4,"optionsRef"],[52,16,33,14],[52,17,33,15,"current"],[52,24,33,22],[52,27,33,25,"options"],[52,34,33,32],[53,6,34,4,"optionsChangeListener"],[53,27,34,25],[53,28,34,26],[53,29,34,27],[54,6,35,4],[54,13,35,11,"navigation"],[54,23,35,21],[54,25,35,23,"addListener"],[54,36,35,34],[54,37,35,35],[54,44,35,42],[54,46,35,44,"optionsChangeListener"],[54,67,35,65],[54,68,35,66],[55,4,36,2],[55,5,36,3],[55,7,36,5],[55,8,36,6,"navigation"],[55,18,36,16],[55,20,36,18,"options"],[55,27,36,25],[55,29,36,27,"optionsChangeListener"],[55,50,36,48],[55,51,36,49],[55,52,36,50],[56,4,37,2],[56,8,37,8,"getOptionsFromListener"],[56,30,37,30],[56,33,37,33,"React"],[56,38,37,38],[56,39,37,39,"useCallback"],[56,50,37,50],[56,51,37,51],[56,57,37,57],[57,6,38,4],[57,11,38,9],[57,15,38,15,"key"],[57,19,38,18],[57,23,38,22,"optionsGettersFromChildRef"],[57,49,38,48],[57,50,38,49,"current"],[57,57,38,56],[57,59,38,58],[58,8,39,6],[58,12,39,10,"key"],[58,16,39,13],[58,20,39,17,"optionsGettersFromChildRef"],[58,46,39,43],[58,47,39,44,"current"],[58,54,39,51],[58,56,39,53],[59,10,40,8],[59,14,40,14,"result"],[59,20,40,20],[59,23,40,23,"optionsGettersFromChildRef"],[59,49,40,49],[59,50,40,50,"current"],[59,57,40,57],[59,58,40,58,"key"],[59,62,40,61],[59,63,40,62],[59,66,40,65],[59,67,40,66],[61,10,42,8],[62,10,43,8],[62,14,43,12,"result"],[62,20,43,18],[62,25,43,23],[62,29,43,27],[62,31,43,29],[63,12,44,10],[63,19,44,17,"result"],[63,25,44,23],[64,10,45,8],[65,8,46,6],[66,6,47,4],[67,6,48,4],[67,13,48,11],[67,17,48,15],[68,4,49,2],[68,5,49,3],[68,7,49,5],[68,9,49,7],[68,10,49,8],[69,4,50,2],[69,8,50,8,"getCurrentOptions"],[69,25,50,25],[69,28,50,28,"React"],[69,33,50,33],[69,34,50,34,"useCallback"],[69,45,50,45],[69,46,50,46],[69,52,50,52],[70,6,51,4],[70,10,51,10,"isFocused"],[70,19,51,19],[70,22,51,22,"navigation"],[70,32,51,32],[70,34,51,34,"isFocused"],[70,43,51,43],[70,44,51,44],[70,45,51,45],[70,49,51,49],[70,53,51,53],[71,6,52,4],[71,10,52,8],[71,11,52,9,"isFocused"],[71,20,52,18],[71,22,52,20],[72,8,53,6],[72,15,53,13],[72,19,53,17],[73,6,54,4],[74,6,55,4],[74,10,55,10,"optionsFromListener"],[74,29,55,29],[74,32,55,32,"getOptionsFromListener"],[74,54,55,54],[74,55,55,55],[74,56,55,56],[75,6,56,4],[75,10,56,8,"optionsFromListener"],[75,29,56,27],[75,34,56,32],[75,38,56,36],[75,40,56,38],[76,8,57,6],[76,15,57,13,"optionsFromListener"],[76,34,57,32],[77,6,58,4],[78,6,59,4],[78,13,59,11,"optionsRef"],[78,23,59,21],[78,24,59,22,"current"],[78,31,59,29],[79,4,60,2],[79,5,60,3],[79,7,60,5],[79,8,60,6,"navigation"],[79,18,60,16],[79,20,60,18,"getOptionsFromListener"],[79,42,60,40],[79,43,60,41],[79,44,60,42],[80,4,61,2,"React"],[80,9,61,7],[80,10,61,8,"useEffect"],[80,19,61,17],[80,20,61,18],[80,26,61,24],[81,6,62,4],[81,13,62,11,"parentAddOptionsGetter"],[81,35,62,33],[81,38,62,36,"key"],[81,41,62,39],[81,43,62,41,"getCurrentOptions"],[81,60,62,58],[81,61,62,59],[82,4,63,2],[82,5,63,3],[82,7,63,5],[82,8,63,6,"getCurrentOptions"],[82,25,63,23],[82,27,63,25,"parentAddOptionsGetter"],[82,49,63,47],[82,51,63,49,"key"],[82,54,63,52],[82,55,63,53],[82,56,63,54],[83,4,64,2],[83,8,64,8,"addOptionsGetter"],[83,24,64,24],[83,27,64,27,"React"],[83,32,64,32],[83,33,64,33,"useCallback"],[83,44,64,44],[83,45,64,45],[83,46,64,46,"key"],[83,49,64,49],[83,51,64,51,"getter"],[83,57,64,57],[83,62,64,62],[84,6,65,4,"optionsGettersFromChildRef"],[84,32,65,30],[84,33,65,31,"current"],[84,40,65,38],[84,41,65,39,"key"],[84,44,65,42],[84,45,65,43],[84,48,65,46,"getter"],[84,54,65,52],[85,6,66,4,"optionsChangeListener"],[85,27,66,25],[85,28,66,26],[85,29,66,27],[86,6,67,4],[86,13,67,11],[86,19,67,17],[87,8,68,6],[88,8,69,6],[88,15,69,13,"optionsGettersFromChildRef"],[88,41,69,39],[88,42,69,40,"current"],[88,49,69,47],[88,50,69,48,"key"],[88,53,69,51],[88,54,69,52],[89,8,70,6,"optionsChangeListener"],[89,29,70,27],[89,30,70,28],[89,31,70,29],[90,6,71,4],[90,7,71,5],[91,4,72,2],[91,5,72,3],[91,7,72,5],[91,8,72,6,"optionsChangeListener"],[91,29,72,27],[91,30,72,28],[91,31,72,29],[92,4,73,2],[92,11,73,9],[93,6,74,4,"addOptionsGetter"],[93,22,74,20],[94,6,75,4,"getCurrentOptions"],[95,4,76,2],[95,5,76,3],[96,2,77,0],[97,0,77,1],[97,3]],"functionMap":{"names":["<global>","_getRequireWildcardCache","_interopRequireWildcard","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;ACS,4MD;AEC,mkBF;AGC;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CHK"}},"type":"js/module"}]}